<div class="diagram-container">
  <ng-diagram
    [nodeTemplateMap]="nodeTemplateMap"
    [edgeTemplateMap]="edgeTemplateMap"
    [model]="model"
    [config]="config"
    (diagramInit)="onDiagramInit($event)"
    (selectionChanged)="onSelectionChanged($event)"
    (groupMembershipChanged)="onGroupMembershipChanged($event)"
    (selectionRotated)="onSelectionRotated($event)"
    (edgeDrawn)="onEdgeDrawn($event)"
    (clipboardPasted)="onClipboardPasted($event)"
    (nodeResized)="onNodeResized($event)"
    (paletteItemDropped)="onPaletteItemDropped($event)"
    (selectionRemoved)="onSelectionRemoved($event)"
  >
    <ng-diagram-background type="grid"></ng-diagram-background>
  </ng-diagram>
  <app-toolbar
    (testVirtualizationClick)="enableVirtualizationTest()"
    (reinitializeModelClick)="onReinitializeModel()"
  />
  <app-palette [model]="paletteModel" />
</div>
