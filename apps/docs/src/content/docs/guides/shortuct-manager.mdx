---
title: Keyboard Shortcuts
description: Example of how use Shortcut Manager in ngDiagram
---

import CodeViewer from '@components/code-viewer/code-viewer.astro';
import ShortcutManager from '../../../components/angular/shortcut-manager/shortcut-manager.astro';

The keyboard shortcuts system in ngDiagram enables users to perform common actions quickly using customizable key combinations.
It supports platform-specific modifier keys (automatically handling Ctrl/Cmd differences), allows multiple shortcuts per action,
and can be updated dynamically at runtime.

## Available Actions

All available shortcut actions with their default key bindings. See [`ShortcutActionName`](/docs/api/types/shortcutactionname/) for the complete type reference.

| Action                       | Default Shortcut                          | Description                                                                  |
| ---------------------------- | ----------------------------------------- | ---------------------------------------------------------------------------- |
| `copy`                       | <kbd>Ctrl/Cmd + C</kbd>                   | Copy selected elements to clipboard                                          |
| `cut`                        | <kbd>Ctrl/Cmd + X</kbd>                   | Cut selected elements to clipboard                                           |
| `paste`                      | <kbd>Ctrl/Cmd + V</kbd>                   | Paste elements from clipboard                                                |
| `deleteSelection`            | <kbd>Delete</kbd> or <kbd>Backspace</kbd> | Delete currently selected elements                                           |
| `selectAll`                  | <kbd>Ctrl/Cmd + A</kbd>                   | Select all elements in the diagram                                           |
| `boxSelection`               | <kbd>Shift</kbd> held                     | Enable box selection mode (pointer only)                                     |
| `preserveSelection`          | <kbd>Ctrl/Cmd</kbd> held                  | Preserve selection mode (pointer only)                                       |
| `keyboardMoveSelectionUp`    | <kbd>↑</kbd>                              | Move selected elements up                                                    |
| `keyboardMoveSelectionDown`  | <kbd>↓</kbd>                              | Move selected elements down                                                  |
| `keyboardMoveSelectionLeft`  | <kbd>←</kbd>                              | Move selected elements left                                                  |
| `keyboardMoveSelectionRight` | <kbd>→</kbd>                              | Move selected elements right                                                 |
| `keyboardPanUp`              | <kbd>↑</kbd>                              | Pan viewport up                                                              |
| `keyboardPanDown`            | <kbd>↓</kbd>                              | Pan viewport down                                                            |
| `keyboardPanLeft`            | <kbd>←</kbd>                              | Pan viewport left                                                            |
| `keyboardPanRight`           | <kbd>→</kbd>                              | Pan viewport right                                                           |
| `undo`                       | <kbd>Ctrl/Cmd + Z</kbd>                   | Undo last action (placeholder — requires custom model implementation)        |
| `redo`                       | <kbd>Ctrl/Cmd + Y</kbd>                   | Redo last undone action (placeholder — requires custom model implementation) |

## Basic Usage

Use the `configureShortcuts()` helper to customize shortcuts:

```typescript
import { configureShortcuts } from 'ng-diagram';

const config = {
  shortcuts: configureShortcuts([
    // Override: Change paste to Ctrl+B
    {
      actionName: 'paste',
      bindings: [{ key: 'b', modifiers: { primary: true } }],
    },
    // Disable: Empty bindings array
    {
      actionName: 'undo',
      bindings: [],
    },
    // Multiple bindings: WSAD + Arrow keys
    {
      actionName: 'keyboardMoveSelectionUp',
      bindings: [{ key: 'w' }, { key: 'ArrowUp' }],
    },
  ]),
};
```

## Helper Function

[`configureShortcuts(customShortcuts, baseShortcuts?)`](/docs/api/other/configureshortcuts/) merges your custom shortcuts with defaults:

- **First parameter:** Your custom shortcuts (overrides matching `actionName`)
- **Second parameter:** Optional base shortcuts. Uses defaults when not provided.
- **Returns:** Merged shortcuts array

You only specify shortcuts you want to customize. Unspecified shortcuts keep their defaults.

## Configuration Reference

### Shortcut Structure

See [`ShortcutDefinition`](/docs/api/other/shortcutdefinition/) API reference.

```typescript
interface ShortcutDefinition {
  actionName: ShortcutActionName; // Which action to trigger
  bindings: ShortcutBinding[]; // One or more key combinations
}

interface ShortcutBinding {
  key?: string; // Optional: 'c', 'Delete', 'ArrowUp', etc.
  modifiers?: Partial<InputModifiers>; // Optional modifier requirements
}
```

### Available Modifiers

```typescript
interface InputModifiers {
  primary: boolean; // Ctrl (Windows/Linux) OR Cmd (macOS) - auto-normalized
  secondary: boolean; // Alt key
  shift: boolean; // Shift key
  meta: boolean; // Windows key or Cmd key
}
```

**Platform Normalization:** The `primary` modifier automatically maps to **Ctrl** on Windows/Linux and **Cmd** on macOS, so you write shortcuts once and they work correctly on all platforms.

### Key Names

Use standard browser key names: `'a'`, `'b'`, `'Delete'`, `'Backspace'`, `'ArrowUp'`, `'ArrowDown'`, `'ArrowLeft'`, `'ArrowRight'`, etc. Keys are case-sensitive.

See [MDN KeyboardEvent.key documentation](https://developer.mozilla.org/en-US/docs/Web/API/UI_Events/Keyboard_event_key_values) for the complete list of valid key values.

### Modifier-Only Shortcuts

Shortcuts without a `key` property (only `modifiers`) match pointer events only. Example:

```typescript
{
  modifiers: {
    shift: true;
  }
} // Matches when Shift held during click
```

This prevents false triggers during keyboard typing.

<ShortcutManager />
<CodeViewer dirName="shortcut-manager" />
