---
title: Labels
description: Understanding how labels on edges work in ngDiagram
sidebar:
  order: 5
---

import CodeSnippet from '@components/code-snippet/code-snippet.astro';

Labels are visual elements attached to edges that can display text, buttons, or any custom content. They automatically position themselves along the edge path and follow the edge as it moves or changes shape.

Each edge has a [`measuredLabels`](/docs/api/types/model/edge/#measuredlabels) property that provides information about its labels and their computed [`position`](/docs/api/types/model/edgelabel/#position) and [`size`](/docs/api/types/model/edgelabel/#size).
This property is read-only and should not be modified.

## Using Labels in Default Edges

To display a label on a **default edge**, you can add a `label` property to the edge's [`data`](/docs/api/types/model/edge/#data).

<br />

import DefaultLabel from '@components/angular/edges/labels/default-label/default-label.astro';

<DefaultLabel />

<CodeSnippet relativePath="edges/labels/default-label/diagram.component.ts" />

### CSS Variables

Default labels can be styled using CSS variables. You can customize these in your global styles:

```scss
ng-diagram-default-edge-label {
  --edge-label-padding: 10px;
  --edge-label-border-radius: 8px;
  --edge-label-font-size: 14px;
  --edge-label-background-color: #f3f4f6;
  --edge-label-text-color: #1e293b;
  --edge-label-border-width: 2px;
  --edge-label-border-color: #334155;
  --edge-label-border-transition: border-color 0.1s ease-in-out;
}
```

**Available CSS variables:**

- `--edge-label-padding` - Label padding
- `--edge-label-border-radius` - Label border radius
- `--edge-label-font-size` - Label font size
- `--edge-label-background-color` - Label background color
- `--edge-label-text-color` - Label text color
- `--edge-label-border-width` - Label border width
- `--edge-label-border-color` - Label border color
- `--edge-label-border-transition` - Transition for border changes

The default label also uses these semantic variables that map to the design system:

- `--ngd-default-edge-label-color` - Label text color
- `--ngd-default-edge-label-background-color` - Label background color
- `--ngd-default-edge-label-border-color` - Label border color

The default edge applies different styles to labels based on the edge state (normal, hover, selected). You can customize these styles by modifying the following CSS:

```scss
ng-diagram-base-edge.default-edge:hover:not(.selected) {
  --edge-label-border-color: #2563eb;
}

ng-diagram-base-edge.default-edge.selected {
  --edge-label-border-color: #3b82f6;
}
```

## Custom Labels

To display a custom label on an edge, use the [`NgDiagramBaseEdgeLabelComponent`](/docs/api/components/ngdiagrambaseedgelabelcomponent) in an implementation of your **custom edge** component:

<br />

import CustomLabel from '@components/angular/edges/labels/custom-label/custom-label.astro';

<CustomLabel />

<CodeSnippet relativePath="edges/labels/custom-label/custom-label-edge.component.ts" />

## Label Positioning

The [`positionOnEdge`](/docs/api/types/model/edgelabel/#positiononedge) property determines where the label appears along the edge path. Labels automatically follow the edge path, regardless of the used [routing algorithm](/docs/guides/edges/routing).

### Relative Positioning

A number between `0` and `1` places the label at a percentage along the path. `0` is the source, `1` is the target, and `0.5` is the midpoint.

```html
<!-- At the midpoint of the edge -->
<ng-diagram-base-edge-label [id]="'mid'" [positionOnEdge]="0.5">
  <span>Midpoint</span>
</ng-diagram-base-edge-label>
```

### Absolute Positioning

A string with a `px` suffix places the label at a fixed pixel distance along the path. Positive values measure from the source, negative values measure from the target.

```html
<!-- 30px from the source -->
<ng-diagram-base-edge-label [id]="'src'" [positionOnEdge]="'30px'">
  <span>Near Source</span>
</ng-diagram-base-edge-label>

<!-- 20px from the target -->
<ng-diagram-base-edge-label [id]="'tgt'" [positionOnEdge]="'-20px'">
  <span>Near Target</span>
</ng-diagram-base-edge-label>
```

Absolute values are clamped to the path length â€” `'500px'` on a 300px edge resolves to the target end, and `'-500px'` resolves to the source end.

| Value     | Mode     | Meaning                             |
| --------- | -------- | ----------------------------------- |
| `0.5`     | Relative | 50% along the path (midpoint)       |
| `0`       | Relative | At the source                       |
| `1`       | Relative | At the target                       |
| `'30px'`  | Absolute | 30px from the source along the path |
| `'-20px'` | Absolute | 20px from the target along the path |
| `'0px'`   | Absolute | At the source                       |
| `'-0px'`  | Absolute | At the target                       |

## Adding labels

Labels can be added and modified dynamically. One way to achieve this is by using diagram's model. The `ModifiableLabelEdgeComponent` (see below) shows how to map such data into an actual label implementation.

Click on an edge to select it in the example below. Then fill the label's name and click "Set Label".

<br />

import AddingLabels from '@components/angular/edges/labels/adding-labels/adding-labels.astro';
import CodeViewer from '@components/code-viewer/code-viewer.astro';

<AddingLabels />
<CodeViewer dirName="edges/labels/adding-labels" />

## Handling Interactive Elements in Labels

When adding interactive elements like inputs to edge labels, dragging on these elements might trigger unwanted diagram behaviors. You can control this using special data attributes:

- **`data-no-pan="true"`** - Prevents the diagram canvas from panning when the user clicks and drags on the element
- **`data-no-drag="true"`** - Prevents nodes from being dragged when the user clicks and drags on the element

```html
<!-- Input in edge label that won't trigger diagram interactions -->
<input type="text" data-no-pan="true" data-no-drag="true" placeholder="Type here" />
```

## Multiple Labels

NgDiagram supports multiple labels and they can be used to display images, shapes, or any other content.
The example below demonstrates how to add multiple labels to an edge to create a flow animation.

<br />

import MultipleLabels from '@components/angular/edges/labels/multiple-labels/multiple-labels.astro';

<MultipleLabels />

<CodeSnippet relativePath="edges/labels/multiple-labels/multiple-labels-edge.component.ts" />
