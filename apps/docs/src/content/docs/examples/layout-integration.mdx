---
title: Layout Integration Example
description: Example of how to integrate layout algorithms in ngDiagram
sidebar:
  order: 9
  label: Layout Integration
---

import CodeViewer from '@components/code-viewer/code-viewer.astro';
import LayoutIntegration from '@examples/layout-integration/layout-integration.astro';

This example demonstrates how to integrate external layout libraries and use built-in layout features in ngDiagram.

<br />

<LayoutIntegration />
<CodeViewer dirName="examples/layout-integration" />

## Additional Explanation

### Key Concepts

- **External Layout Libraries:** Integrate solutions like ELK.js for advanced layouts. ELK.js assigns [`position`](/docs/api/types/model/simplenode/#position) to nodes and generates edge paths automatically.
- **User Interaction Detection:** Use the [`selectionMoved`](/docs/api/types/events/selectionmovedevent/) event to detect manual node movement.
- **Edge Routing Modes:**
  - Set edges to [`manual`](/docs/api/types/routing/routingmode/) mode to preserve custom layout points from ELK.
  - Reset edges to [`auto`](/docs/api/types/routing/routingmode/) mode when connected nodes are moved manually.
- **Batch Updates:** Use [`updateNodes`](/docs/api/types/model/modeladapter/#updatenodes) and [`updateEdges`](/docs/api/types/model/modeladapter/#updateedges) for efficient diagram updates.
