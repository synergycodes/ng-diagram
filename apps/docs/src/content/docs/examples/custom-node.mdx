---
title: Custom Node
description: Example of how to create a custom node in ngDiagram
---

## Context

Each scenario requires its own dedicated implementation.
To handle this, you can use **Custom Nodes**.

Defining a custom node is straightforward â€” it only requires:

1. Adding your component to the configuration by defining custom node types in `nodeTemplateMap` and passing them to the diagram.
2. Assigning `type` value for the node you want to customize. The type value must match the node type identifier in your diagram configuration.

Inside the custom node component, you can create **any Angular component template** you need and leverage the functionalities of the base node.
You can include anything inside the Custom Node, including controls from **external libraries**.

Once created, the custom node component will be rendered directly on the diagram, allowing you to build any type of graph from it.

Custom nodes in ngDiagram are highly flexible and can utilize built-in selection, rotation, resizing, and port functionalities.
This allows you to create interactive and visually rich diagrams tailored to your application's needs.

---

## Example

Below is an example of a custom node implementation using ngDiagram built-in features:

import CustomNode from '@examples/custom-node/custom-node.astro';
import ExampleViewer from '@components/example-viewer/example-viewer.astro';
import { LinkCard } from '@astrojs/starlight/components';

<CustomNode />

<ExampleViewer dirName="custom-node" />

---

## Built-in Node Features

Custom nodes in ngDiagram can leverage several built-in features to enhance user interaction and diagram usability:

### Selection

Nodes can be selected by clicking on them. Selection state can be styled or used to trigger additional logic in your custom node component. The selection directive `NgDiagramNodeSelectedDirective` allowing you to easily highlight or interact with selected nodes.

### Rotating

Nodes can be rotated using the built-in rotate adornment `NgDiagramNodeRotateAdornmentComponent`. This provides a UI handle for users to rotate nodes directly on the diagram. You can enable rotation by setting the `rotatable` property on your node model.

<LinkCard
  icon="list-format"
  title="Rotation"
  href="/docs/internals/nodes/rotation"
  description="Rotation functionality"
/>

### Resizing

Nodes can be resized using the resize adornment `NgDiagramNodeResizeAdornmentComponent`. This adds handles to the node for resizing. Enable this feature by setting the `resizable` property on your node model.

<LinkCard
  icon="list-format"
  title="Resizing"
  href="/docs/internals/nodes/resizing"
  description="Resizing functionality"
/>

### Ports

Ports allow nodes to connect with edges. You can define multiple ports on your custom node and specify their position (e.g., left, right, top, bottom).
If you use the port position property, it will align the port in the middle of the edge, but you can customize this with CSS if needed.
Use the `NgDiagramPortComponent` to add ports in your node template. Each port can be configured for source, target, or both.

<LinkCard icon="list-format" title="Ports" href="/docs/internals/nodes/ports" description="Ports functionality" />
