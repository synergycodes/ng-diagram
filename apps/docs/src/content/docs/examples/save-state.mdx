---
title: Save Persistence Example
description: Example of how to save and restore state in ngDiagram
sidebar:
  order: 8
  label: Save Persistence
---

import CodeViewer from '@components/code-viewer/code-viewer.astro';
import SaveState from '../../../components/angular/examples/save-state/save-state.astro';

This example demonstrates how to implement save and restore functionality for the diagram in ngDiagram using Angular features.

<SaveState />
<CodeViewer dirName="examples/save-state" />

## Additional Explanation

### Key Concepts

- **Persistence:** Saves the diagram state to local storage.
- **Restoration:** Loads the saved state back into the diagram.
- **Clear:** Removes the saved state from local storage.

### Implementation Details

- **Save Persistence Service:**  
  The `SaveStateService` manages saving, loading, and clearing the diagram state using Angular signals and effects.

- **NavBar Component:**  
  The navigation bar provides buttons for saving, loading, and clearing the diagram state. Button states are reactive.

- **Component Structure:**  
  The example wraps the diagram and navigation bar in a context provider, ensuring services are available.

### Actions

- **Save:** Serializes and stores the current diagram state.
- **Load:** Restores the diagram from the saved state.
- **Clear:** Removes the saved state from local storage.
