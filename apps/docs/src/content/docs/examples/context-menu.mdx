---
title: Context Menu Example
description: Example of how to implement a context menu in ngDiagram
sidebar:
  order: 5
  label: Context Menu
---

import ExampleViewer from '@components/example-viewer/example-viewer.astro';
import ContextMenu from '../../../components/angular/examples/context-menu/context-menu.astro';

This example demonstrates how to implement a context menu that adapts its options based on the context—showing node-specific actions when a node is right-clicked, and diagram-wide actions otherwise.

<ContextMenu />
<ExampleViewer dirName="context-menu" />

## Additional Explanation

- **Context Awareness:** Menu options change depending on whether a node or the diagram background is right-clicked.
- **Positioning:** The menu appears at the exact cursor location using viewport coordinates.
- **Integration:** Uses Angular signals and services for reactive state management.

### Key Concepts

- **Node Right-Click Handling:**  
  Nodes handle right-click events to show the context menu and select the node.

- **Diagram Right-Click Handling:**  
  Right-clicking the diagram background shows the diagram-wide menu.

- **Menu Positioning:**  
  The menu position is calculated using viewport coordinates.

- **Context Menu Service:**  
  The service manages the menu’s visibility, position, and context (node or diagram).

- **Menu Component:**  
  The menu component displays options based on the context and stores information about menu positioning.

### Actions

- **Copy:** Copies the selected node(s) to the clipboard.
- **Paste:** Pastes copied nodes at the cursor position.
- **Delete:** Removes the selected node(s).
- **Select All:** Selects all nodes in the diagram.
