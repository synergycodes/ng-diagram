---
title: Overview
description: Essential concepts of ngDiagram - understand the library without diving deep into documentation
sidebar:
  order: 1
---

import { Aside } from '@astrojs/starlight/components';

A comprehensive overview of ngDiagram's core concepts, helping you understand the library's capabilities without reading the entire documentation.

## Getting Started

The simplest way to start is by installing the library, importing the required styles, and creating a component with the [`NgDiagramComponent`](/docs/api/components/ngdiagramcomponent) and [`provideNgDiagram()`](/docs/api/utilities/providengdiagram) in its providers. The diagram component needs a model with nodes and edges to display.

[Quick Start Guide](/docs/intro/quick-start) for step-by-step setup

## Model & Data

ngDiagram uses a reactive model to manage diagram state. You initialize the model with nodes and edges, each having required properties like ID and position. The model is the single source of truth for your diagram's data.

**Key concepts:**

- Initialize model with [`initializeModel()`](/docs/api/utilities/initializemodel)
- Nodes require: [`id`](/docs/api/types/model/simplenode#id), [`position`](/docs/api/types/model/simplenode#position), [`data`](/docs/api/types/model/simplenode#data)
- Edges require: [`id`](/docs/api/types/model/edge#id), [`source`](/docs/api/types/model/edge#source), [`target`](/docs/api/types/model/edge#target), [`sourcePort`](/docs/api/types/model/edge#sourceport), [`targetPort`](/docs/api/types/model/edge#targetport), [`data`](/docs/api/types/model/edge#data)
- Custom properties can be stored in the `data` field of [`nodes`](/docs/api/types/model/simplenode/#data) and [`edges`](/docs/api/types/model/edge/#data)
- Use [`metadata`](/docs/api/types/model/metadata) for diagram-level custom information

You can also implement custom model adapters to connect to external data sources like databases or real-time services.

[State Management →](/docs/guides/state-management) | [Custom Model Example →](/docs/examples/custom-model) | [Model initialization →](/docs/guides/model-initialization/)

<Aside type="caution">
  Never modify nodes or edges directly. Always use services to update the model to maintain reactivity.
</Aside>

## Service Isolation

Every diagram requires [`provideNgDiagram()`](/docs/api/utilities/providengdiagram) in its component's providers array, which supplies all necessary services with proper scope isolation. This architecture allows you to have multiple independent diagrams on the same page, each with its own state and services.

**Benefits:**

- Isolated service instances per diagram
- Independent state management
- Multiple diagrams on one page
- No conflicts between instances

[Architecture Documentation →](/docs/intro/architecture)

## Nodes

ngDiagram provides default nodes that work out of the box with built-in features like selection, dragging, and ports. Default nodes display a label and have standard connection points.

**Default node features:**

- Automatic rendering with label (shows node data label or falls back to node ID)
- Built-in selection and hover states
- Drag to reposition
- Two bidirectional connection ports (left and right)
- Resize handles
- Rotation handle
- Automatic port hover indicators
- Automatic sizing by default ([`autoSize: true`](/docs/api/types/model/simplenode#autosize)) - nodes resize to fit their content

<Aside type="note">
  To set a manual size for nodes, you must explicitly set [`autoSize: false`](/docs/api/types/model/simplenode#autosize)
  along with the [`size`](/docs/api/types/model/simplenode#size) property. Without this, the size property will be
  overridden by the automatic sizing behavior.
</Aside>

For specific requirements, you can create custom nodes with any Angular template, form controls, or visual elements you need.

**Components for custom nodes:**

- [`NgDiagramPortComponent`](/docs/api/components/ngdiagramportcomponent) - Define custom ports with specific IDs, sides, and connection types
- [`NgDiagramNodeResizeAdornmentComponent`](/docs/api/components/ngdiagramnoderesizeadornmentcomponent) - Add resize handles to custom nodes
- [`NgDiagramNodeRotateAdornmentComponent`](/docs/api/components/ngdiagramnoderotateadornmentcomponent) - Add rotation handle to custom nodes
- [`NgDiagramNodeSelectedDirective`](/docs/api/directives/ngdiagramnodeselecteddirective) - Apply selection styling to custom nodes

[Nodes Documentation →](/docs/guides/nodes/nodes) | [Custom Nodes →](/docs/guides/nodes/custom-nodes)

## Groups

Groups are special nodes that can contain other nodes, helping organize complex diagrams into logical sections. They support nesting and group-aware interactions.

**Group capabilities:**

- Container for other nodes
- Nested groups support
- Visual hierarchy
- Group-aware dragging
- [`NgDiagramGroupHighlightedDirective`](/docs/api/directives/ngdiagramgrouphighlighteddirective) - Apply highlight styling to custom group nodes during drag-over operations

[Groups Documentation →](/docs/guides/nodes/groups)

## Edges

Edges connect nodes through ports. Default edges automatically calculate paths between nodes and support different routing algorithms. Like nodes, you can create custom edge templates for specialized visualizations.

**Edge features:**

- Automatic path calculation
- Three routing modes (orthogonal, straight, bezier)
- Labels support (default edges support labels out of the box)
- Custom arrowheads (customizable using SVG markers)
- Custom edge templates
- Selection and hover states

[Edges Documentation →](/docs/guides/edges/edges) | [Custom Edges →](/docs/guides/edges/custom-edges)

## Ports

Ports define where edges can connect to nodes. Default nodes have two ports (left and right), but you can define custom ports with specific positions and connection rules in custom node templates.

**Port system:**

- Default ports: [`port-left`](/docs/api/types/model/port#id), [`port-right`](/docs/api/types/model/port#id) (bidirectional)
- Four possible [`sides`](/docs/api/types/model/portside): `top`, `right`, `bottom`, `left`
- Three connection [`types`](/docs/api/types/model/port#type): `source` (outgoing only), `target` (incoming only), `both` (bidirectional)
- Custom port positions and IDs in custom node templates
- Visual hover indicators when dragging connections

[Ports Documentation →](/docs/guides/nodes/ports)

## Viewport

The viewport is the interactive space where all diagram elements are rendered and manipulated. It determines what part of the diagram is visible and supports navigation and scaling.

**Viewport features:**

- Zoom in/out for detail or overview
- Pan to navigate large diagrams
- All elements are positioned relative to the viewport's coordinate system

[Viewport Features →](/docs/intro/coordinate-system/#viewport-and-scaling)

## Background

The diagram background can display visual patterns to help with alignment and spatial awareness. The [`NgDiagramBackgroundComponent`](/docs/api/components/ngdiagrambackgroundcomponent) needs to be added to your diagram template to display the background.

**Background capabilities:**

- Built-in patterns: dots, grid with major/minor lines
- Customizable via [`background`](/docs/api/types/configuration/features/backgroundconfig) configuration ([`dotSpacing`](/docs/api/types/configuration/features/backgroundconfig#dotspacing), [`cellSize`](/docs/api/types/configuration/features/backgroundconfig#cellsize), [`majorLinesFrequency`](/docs/api/types/configuration/features/backgroundconfig#majorlinesfrequency))
- Support for custom backgrounds via content projection
- Automatically scales with viewport zoom

[Background Documentation →](/docs/guides/background)

## Labels and Arrowheads

Custom edges can display labels for showing information along connections. You can add multiple labels with different positions in your custom edge templates. Arrowheads are customizable using SVG markers.

**Visual enhancements:**

- Edge labels in custom edges
- Multiple labels per edge
- Custom arrowhead designs
- SVG-based customization for arrowheads

[Labels Documentation →](/docs/guides/edges/labels) | [Arrowheads →](/docs/guides/edges/arrowheads)

## Interactions

Nodes can be configured for different interaction modes. Enable resizing to allow users to change node dimensions, rotation for angular adjustments. Selection state is tracked automatically, but custom components need to implement visual feedback.

**Interaction options:**

- **Draggable**: Node dragging is enabled by default. Disable globally with [`nodeDraggingEnabled: false`](/docs/api/types/configuration/flowconfig#nodedraggingenabled) or per node with [`draggable: false`](/docs/api/types/model/simplenode#draggable)
- **Resizable**: Enable resize handles on nodes by setting [`resizable: true`](/docs/api/types/model/simplenode#resizable)
- **Rotatable**: Enable rotation handle on nodes by setting [`rotatable: true`](/docs/api/types/model/simplenode#rotatable)
- **Selection**: Click to select nodes and edges
  - Custom nodes: Use [`NgDiagramNodeSelectedDirective`](/docs/api/directives/ngdiagramnodeselecteddirective) as hostDirective for selection styles
  - Custom edges: Use [`NgDiagramBaseEdgeComponent`](/docs/api/components/ngdiagrambaseedgecomponent) or implement selection styles manually
  - Default templates have selection styles built-in
- **Copy/Paste**: Copy, cut, and paste diagram elements
  - Keyboard shortcuts can be updated via [`configureShortcuts()`](/docs/api/utilities/configureshortcuts), defaults are: Ctrl/Cmd+C (copy), Ctrl/Cmd+X (cut), Ctrl/Cmd+V (paste)
  - Programmatic access via [`NgDiagramClipboardService`](/docs/api/services/ngdiagramclipboardservice)

[Selection →](/docs/guides/nodes/selection) | [Resizing →](/docs/guides/nodes/resizing) | [Rotation →](/docs/guides/nodes/rotation) | [Keyboard Shortcuts →](/docs/api/utilities/configureshortcuts)

## Configuration

Most diagram behavior is configurable through the config object passed to the diagram component.

**Configurable aspects:**

- [`background`](/docs/api/types/configuration/features/backgroundconfig) - Background dot spacing, cell size, and major lines frequency
- [`boxSelection`](/docs/api/types/configuration/features/boxselectionconfig) - Box selection behavior (partial inclusion, real-time selection)
- [`computeEdgeId`](/docs/api/types/configuration/flowconfig#computeedgeid) - Function to generate unique edge IDs
- [`computeNodeId`](/docs/api/types/configuration/flowconfig#computenodeid) - Function to generate unique node IDs
- [`debugMode`](/docs/api/types/configuration/flowconfig#debugmode) - Enable additional console logging
- [`edgeRouting`](/docs/api/types/configuration/features/edgeroutingconfig) - Default routing algorithm (orthogonal, bezier, polyline) and routing-specific settings
- [`grouping`](/docs/api/types/configuration/features/groupingconfig) - Rules for which nodes can be grouped together
- [`linking`](/docs/api/types/configuration/features/linkingconfig) - Edge creation validation, snap distance, and custom edge builders
- [`nodeRotation`](/docs/api/types/configuration/features/noderotationconfig) - Rotation snapping angles and default rotatable state
- [`resize`](/docs/api/types/configuration/features/resizeconfig) - Minimum node size constraints and default resizable state
- [`selectionMoving`](/docs/api/types/configuration/features/selectionmovingconfig) - Edge panning behavior when dragging near viewport edges
- [`snapping`](/docs/api/types/configuration/features/snappingconfig) - Grid snapping for dragging and resizing with customizable snap points
- [`zIndex`](/docs/api/types/configuration/features/zindexconfig) - Layer management for selected elements and edge-node relationships
- [`zoom`](/docs/api/types/configuration/features/zoomconfig) - Min/max zoom levels, zoom step, and zoom-to-fit settings

## Services

ngDiagram provides injectable services for all diagram operations. Services are the only way to safely update the model and control diagram behavior programmatically.

**Core services:**

- [**NgDiagramService**](/docs/api/services/ngdiagramservice) - Diagram API access:
  - Config, events, transactions
  - Middleware registration
  - Routing management ([`registerRouting()`](/docs/api/services/ngdiagramservice#registerrouting), [`unregisterRouting()`](/docs/api/services/ngdiagramservice#unregisterrouting), [`getRegisteredRoutings()`](/docs/api/services/ngdiagramservice#getregisteredroutings))
  - Programmatic linking ([`startLinking()`](/docs/api/services/ngdiagramservice#startlinking))
  - Environment info ([`getEnvironment()`](/docs/api/services/ngdiagramservice#getenvironment))
- [**NgDiagramModelService**](/docs/api/services/ngdiagrammodelservice) - CRUD operations:
  - Nodes, edges, and metadata management
  - Model serialization ([`toJSON()`](/docs/api/services/ngdiagrammodelservice#tojson))
  - Reactive signals for [`nodes`](/docs/api/services/ngdiagrammodelservice#nodes), [`edges`](/docs/api/services/ngdiagrammodelservice#edges), [`metadata`](/docs/api/services/ngdiagrammodelservice#metadata)
- [**NgDiagramViewportService**](/docs/api/services/ngdiagramviewportservice) - Viewport control:
  - Zoom, pan, and positioning ([`zoomToFit()`](/docs/api/services/ngdiagramviewportservice#zoomtofit))
  - Coordinate conversion ([`clientToFlowPosition()`](/docs/api/services/ngdiagramviewportservice#clienttoflowposition), [`flowToClientPosition()`](/docs/api/services/ngdiagramviewportservice#flowtoclientposition))
  - Navigation helpers ([`centerOnNode()`](/docs/api/services/ngdiagramviewportservice#centeronnode), [`centerOnRect()`](/docs/api/services/ngdiagramviewportservice#centeronrect))
- [**NgDiagramSelectionService**](/docs/api/services/ngdiagramselectionservice) - Manage selection state for nodes and edges
- [**NgDiagramNodeService**](/docs/api/services/ngdiagramnodeservice) - Node-specific operations (move, resize, rotate)
- [**NgDiagramGroupsService**](/docs/api/services/ngdiagramgroupsservice) - Group/ungroup nodes and manage group hierarchies
- [**NgDiagramClipboardService**](/docs/api/services/ngdiagramclipboardservice) - Copy/paste/cut operations for diagram elements

Services use Angular signals for reactive state management, making it easy to build reactive UI components.

[Services Documentation →](/docs/intro/services)

## Events

The diagram emits events for user interactions and state changes. Subscribe to these events to react to user actions or synchronize with external systems.

**Available events:**

- [`diagramInit`](/docs/api/types/events/diagraminitevent) - Fired when diagram is fully initialized with all nodes and edges measured
- [`edgeDrawn`](/docs/api/types/events/edgedrawnevent) - Fired when user manually creates an edge by dragging between nodes
- [`selectionChanged`](/docs/api/types/events/selectionchangedevent) - Fired when nodes/edges are selected or deselected
- [`selectionMoved`](/docs/api/types/events/selectionmovedevent) - Fired continuously on each position change while selected nodes are being dragged
- [`selectionRemoved`](/docs/api/types/events/selectionremovedevent) - Fired when selected nodes/edges are removed from the diagram
- [`selectionRotated`](/docs/api/types/events/selectionrotatedevent) - Fired continuously on each angle change while selected nodes are being rotated
- [`groupMembershipChanged`](/docs/api/types/events/groupmembershipchangedevent) - Fired when nodes are grouped or ungrouped
- [`viewportChanged`](/docs/api/types/events/viewportchangedevent) - Fired when viewport is panned or zoomed
- [`clipboardPasted`](/docs/api/types/events/clipboardpastedevent) - Fired when elements are pasted from clipboard
- [`nodeResized`](/docs/api/types/events/noderesizedevent) - Fired continuously on each size change while a node is being resized
- [`nodeResizeStarted`](/docs/api/types/events/noderesizestartedevent) - Fired when a node resize operation begins
- [`nodeResizeEnded`](/docs/api/types/events/noderesizeendedevent) - Fired when a node resize operation ends
- [`nodeRotateStarted`](/docs/api/types/events/noderotatestartedevent) - Fired when a node rotation operation begins
- [`nodeRotateEnded`](/docs/api/types/events/noderotateendedevent) - Fired when a node rotation operation ends
- [`nodeDragStarted`](/docs/api/types/events/nodedragstartedevent) - Fired when a node drag operation begins
- [`nodeDragEnded`](/docs/api/types/events/nodedragendedevent) - Fired when a node drag operation ends
- [`paletteItemDropped`](/docs/api/types/events/paletteitemdroppedevent) - Fired when a palette item is dropped onto the diagram

Events can be subscribed to via `@Output` bindings on the [`ng-diagram`](/docs/api/components/ngdiagramcomponent) component or programmatically through [`NgDiagramService.addEventListener()`](/docs/api/services/ngdiagramservice#addeventlistener).

## Edge Routing

Edges support multiple routing algorithms for different visual styles. You can control how edges are drawn between nodes using both automatic and manual approaches.

**Built-in routing algorithms:**

- **Orthogonal** - Right-angle paths between nodes
- **Polyline** - Straight line segments between points
- **Bezier** - Smooth curved connections with control points

**Routing modes:**

- **Auto mode** ([`routingMode: 'auto'`](/docs/api/types/model/edge#routingmode)) - Algorithm automatically calculates the path between nodes
- **Manual mode** ([`routingMode: 'manual'`](/docs/api/types/model/edge#routingmode)) - You provide custom waypoints in the [`points`](/docs/api/types/model/edge#points) array, algorithm renders the path through your points

Set routing per edge with the [`routing`](/docs/api/types/model/edge#routing) property, or globally through configuration with [`edgeRouting.defaultRouting`](/docs/api/types/configuration/features/edgeroutingconfig#defaultrouting). For complete custom routing algorithms, use [`NgDiagramService.registerRouting()`](/docs/api/services/ngdiagramservice#registerrouting).

[Routing Documentation →](/docs/guides/edges/routing)

## Palette

The palette system enables drag-and-drop node creation. Build your own palette container using the provided components to let users drag items onto the diagram.

**Palette components:**

- [`NgDiagramPaletteItemComponent`](/docs/api/components/ngdiagrampaletteitemcomponent) - Wrapper for draggable palette items
- [`NgDiagramPaletteItemPreviewComponent`](/docs/api/components/ngdiagrampaletteitempreviewcomponent) - Live preview shown while dragging

**Palette features:**

- Drag-and-drop to create nodes at drop location
- Custom item templates and preview templates
- Support for creating both regular nodes and group nodes
- Visual feedback with live preview during drag

[Palette Documentation →](/docs/guides/palette) | [Palette Example →](/docs/examples/custom-node)

## Custom Middlewares

ngDiagram uses a middleware system that allows you to intercept and modify any state changes. Register custom middleware via [`NgDiagramService.registerMiddleware()`](/docs/api/services/ngdiagramservice#registermiddleware) to override any aspect of the application and create low-level features.

**Middleware capabilities:**

- Intercept all state updates before they're applied
- Modify or cancel operations
- Add custom side effects
- Implement complex business logic
- Create custom behaviors and constraints

<Aside type="caution">
  Use middlewares carefully - poorly implemented middleware can break core functionality and severely impact
  performance. Always test thoroughly and ensure your middleware properly passes through unhandled operations.
</Aside>

[Middleware Documentation →](/docs/guides/middlewares)

## Styling System

ngDiagram provides a comprehensive CSS variable system for theming and customization. You can override colors, borders, and other visual properties to match your application's design.

[Styling Guide →](/docs/intro/styling)

---

Explore our [Examples](/docs/examples) to see these concepts in action.
