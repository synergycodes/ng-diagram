---
title: Custom Groups
description: Creating and configuring custom group templates in ngDiagram
sidebar:
  order: 4
---

import { LinkCard } from '@astrojs/starlight/components';
import { Aside } from '@astrojs/starlight/components';

You can create custom group templates, similar to custom nodes.
All you need to do is implement a component that extends `NgDiagramGroupNodeTemplate` and register it in the `nodeTemplateMap` with a unique `type`.

```typescript {13}
@Component({
  selector: 'app-custom-group',
  template: `
    <ng-diagram-node-resize-adornment>
      <div class="custom-group" ngDiagramNodeSelected [node]="node()">
        <div class="header">{{ node().data.title }}</div>
        <div>...</div>
      </div>
    </ng-diagram-node-resize-adornment>
  `,
  // ...styles and imports
})
export class CustomGroupComponent implements NgDiagramGroupNodeTemplate {
  node = input.required<GroupNode>();
}
```

Register your custom group in the `nodeTemplateMap` and assign its `type` to the group node.

<LinkCard
  icon="list-format"
  title="Registering Custom Types"
  href="/docs/internals/nodes/custom-nodes/#registering-custom-node-types"
  description="Check how to register Custom Group"
/>

## Resizing Custom Group

<LinkCard
  icon="list-format"
  title="Resizing"
  href="/docs/internals/nodes/resizing"
  description="Resizing Custom Group"
/>

### Autoresize and CSS

When using autoresize, ensure your group template's root element does **not** set fixed width/height.
Use `width: 100%` and `height: 100%` to allow the group to grow/shrink with its contents.

```scss
.custom-group {
  width: 100%;
  height: 100%;
  min-width: unset;
  min-height: unset;
}
```

## Highlighting Custom Group

Use `NgDiagramGroupHighlightedDirective` for highlight styles.

```html
<div ngDiagramGroupHighlighted [node]="node">
  <!-- Your Custom Group content -->
</div>
```

## Selecting Custom Group

Use `NgDiagramNodeSelectedDirective` for selection styles.

```html
<div ngDiagramNodeSelected [node]="node">
  <!-- Your Custom Group content -->
</div>
```

## Rotation

Groups can be rotated if `rotatable: true` is set.
However, **rotation only affects the group container**â€”child nodes are **not rotated** with the group.
Children retain their global orientation and position.

<Aside type="caution">
**Limitations:** Groups do not yet fully support rotated child nodes. 
  
Please use it with caution in your Custom Groups.

Currently, for the default group, this feature is disabled due to these limitations. Autoresize that takes child
rotation into account is also in progress.

We will come back soon with an update to fix that!

</Aside>

## See Also

<LinkCard
  icon="list-format"
  title="Groups"
  href="/docs/internals/nodes/groups"
  description="Learn about default group functionality"
/>
<LinkCard
  icon="list-format"
  title="Custom Nodes"
  href="/docs/internals/nodes/custom-nodes"
  description="Create custom node templates"
/>
