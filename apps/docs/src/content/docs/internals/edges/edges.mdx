---
title: Edges
description: Understanding how edges work in ngDiagram
sidebar:
  order: 0
---

import { LinkCard } from '@astrojs/starlight/components';
import CodeSnippet from '@components/code-snippet/code-snippet.astro';
import { Image } from 'astro:assets';

Edges are the connections between nodes in ngDiagram. They represent relationships, data flow, or dependencies between different components in your diagram.

## Edge Properties

Edges have numerous parameters affecting their appearance and behavior.
Here are the required properties of an edge:

```typescript
interface Edge<T = any> {
  id: string; // ID of the edge
  source: string; // ID of the source node
  sourcePort: string; // ID of the port on the source node
  target: string; // ID of the target node
  targetPort: string; // ID of the port on the target node
  data: T; // Custom data associated with the edge
  // ...optional properties
}
```

<LinkCard
  icon="list-format"
  title="Edge API"
  href="/docs/api/types/edge"
  description="See detailed edge properties reference"
/>

## Adding Edges to a Diagram

To add edges to your diagram, include them in the `edges` array of your model:

<CodeSnippet relativePath="edges/edges/diagram.component.ts" sectionId="adding-edges" />

## Default Edge

NgDiagram provides a default edge implementation that handles most common use cases. The default edge:

- Automatically calculates the path between connected nodes
- Supports three [built-in routing algorithms](/docs/internals/edges/routing)
- Can display arrowheads at either end

### Customization

NgDiagram's default edges offer several customization options:

- Custom arrowheads (defined as SVG markers)
- CSS variable based styling (stroke, hover / selection states etc.)
- [Built-in routing algorithms](/docs/internals/edges/routing)

import DefaultEdge from '@components/angular/edges/edges/default-edge/default-edge.astro';

<DefaultEdge />

<CodeSnippet relativePath="edges/edges/default-edge/diagram.component.ts" />

#### Styling Default Edges with CSS Variables

Default edges can be styled using CSS variables. You can customize these in your global styles:

```scss
// Override default edge styling
ng-diagram-base-edge.default-edge {
  --edge-stroke: #334155;
  --edge-stroke-width: 3;
  --edge-stroke-dasharray: 5 5; // Dashed line
  --edge-stroke-transition: stroke 0.2s ease;
}

ng-diagram-base-edge.default-edge:hover:not(.selected) {
  --edge-stroke: #64748b;
}

ng-diagram-base-edge.default-edge.selected {
  --edge-stroke: #3b82f6;
  --edge-stroke-width: 4;
}
```

**Available CSS variables:**

- `--edge-stroke` - Stroke color
- `--edge-stroke-width` - Stroke width
- `--edge-stroke-opacity` - Stroke opacity
- `--edge-stroke-dasharray` - Stroke dash pattern (e.g., `5 5` for dashed line)
- `--edge-stroke-transition` - Transition for stroke changes

The default edge also uses these semantic variables that map to the design system:

- `--ngd-default-edge-stroke` - Base stroke color (default state)
- `--ngd-default-edge-stroke-hover` - Stroke color on hover
- `--ngd-default-edge-stroke-selected` - Stroke color when selected

### Available Host Classes

The base edge component exposes these classes for styling:

- `.selected` - Applied when the edge is selected
- `.temporary` - Applied when the edge is being drawn (preview state)

See [Edge Selection](/docs/internals/edges/selection) for more details on customizing selection styles.

### Dynamic Styling with Computed Properties

For complex or programmatic styling, you can use computed properties with the base edge inputs:

<CodeSnippet relativePath="edges/edge-selection/dynamic-edge/dynamic-edge.component.ts" />

Use Custom Edges for even more control over edge look and functionality

<LinkCard
  title="Custom Edges"
  href="/docs/internals/edges/custom-edges"
  description="Provide your edges with unique styles and behaviors"
/>

<LinkCard title="Arrowheads" href="/docs/internals/edges/arrowheads" description="Create custom arrowheads" />

## Ports

Ports are connection points on nodes where edges can start or end.
Each port has an ID unique within its node.
These IDs (along with their parent node IDs) are used to specify the exact position where edges should be attached.

<CodeSnippet relativePath="edges/edges/diagram.component.ts" sectionId="ports" />

<LinkCard
  title="Ports"
  href="/docs/internals/nodes/ports"
  description="Read more about ports and how they work in ngDiagram"
/>

## Routing

Edges can be routed using three [built-in routing algorithms](/docs/internals/edges/routing):

- `polyline`: Draws a polyline (straight line by default)
- `orthogonal`: Draws a series of horizontal and vertical lines
- `bezier`: Draws a bezier curve

import Routing from '@components/angular/edges/routing/routing/routing.astro';

<Routing />

<LinkCard
  title="Routing"
  href="/docs/internals/edges/routing"
  description="Learn about routing algorithms and how to customize them in ngDiagram"
/>

## Creating Edges Through User Interaction

When users create edges by dragging between ports, you can customize both the temporary edge shown during dragging and the final edge that gets created. This is done through the `linking` configuration in your diagram's config.

### Customizing Edge Creation

The `linking` configuration provides two builder functions:

- **`temporaryEdgeDataBuilder`** - Customizes the edge shown while dragging
- **`finalEdgeDataBuilder`** - Customizes the final edge when connection is completed

```typescript
@Component({
  selector: 'my-diagram',
  template: ` <ng-diagram [model]="model" [config]="config" /> `,
  providers: [provideNgDiagram()],
})
export class MyDiagramComponent {
  model = initializeModel({
    /* ... */
  });

  config: NgDiagramConfig = {
    linking: {
      temporaryEdgeDataBuilder: (defaultEdge) => ({
        ...defaultEdge,
        routing: 'bezier', // Use bezier routing for temporary edge
        type: 'preview', // Use a custom edge template
      }),
      finalEdgeDataBuilder: (defaultEdge) => ({
        ...defaultEdge,
        data: {
          ...defaultEdge.data,
          createdAt: new Date(),
          status: 'active',
        },
        type: 'custom',
        routing: 'orthogonal',
      }),
    },
  };
}
```

This allows you to:

- Set different edge types for preview vs final edges
- Add custom data to newly created edges
- Apply specific routing algorithms
- Control the visual appearance and behavior

## Further reading

<LinkCard
  title="Labels"
  href="/docs/internals/edges/labels"
  description="See how to add labels to edges in ngDiagram"
/>
