<svg class="grid-background">
  <pattern
    #backgroundPattern
    id="ng-diagram-background"
    [attr.staticWidth]="gridSize()"
    [attr.width]="gridSize()"
    [attr.height]="gridSize()"
    [attr.patternTransform]="patternTransform()"
    patternUnits="userSpaceOnUse"
  >
    @for (line of gridLines(); track $index) {
      <line
        [attr.x1]="line.x1"
        [attr.y1]="line.y1"
        [attr.x2]="line.x2"
        [attr.y2]="line.y2"
        [attr.stroke]="line.major ? var(--ngd-background-line-major, #989898ff) : var(--ngd-background-line-minor, #c2c0c0ff)"
        [attr.stroke-width]="line.major ? 1.2 : 0.5"
        [attr.opacity]="line.major ? 0.6 : 0.3"
        shape-rendering="crispEdges"
      ></line>
    }
  </pattern>

  <rect fill="url(#ng-diagram-background)" width="100%" height="100%" x="0" y="0"></rect>
</svg>
