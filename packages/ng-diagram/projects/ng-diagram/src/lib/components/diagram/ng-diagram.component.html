<div class="diagram-background-container">
  <ng-content select="ng-diagram-background"></ng-content>
</div>
<ng-diagram-canvas [viewport]="viewport()">
  @for (edge of edges(); track edge.id) {
    <ng-diagram-edge>
      @if (getEdgeTemplate(edge.type)) {
        <ng-container *ngComponentOutlet="getEdgeTemplate(edge.type); inputs: { edge }" />
      } @else if (!edge.type) {
        <ng-diagram-default-edge [edge]="edge" />
      }
    </ng-diagram-edge>
  }
  <ng-diagram-marker-arrow />
  @for (node of nodes(); track trackNode($index, node)) {
    <ng-diagram-node class="ng-diagram-node" [attr.data-node-id]="node.id" [node]="node">
      @if (getNodeTemplate(node.type)) {
        <ng-container *ngComponentOutlet="getNodeTemplate(node.type); inputs: { node }" />
      } @else if (isGroup(node)) {
        <ng-diagram-default-group-template [node]="castToGroupNode(node)" />
      } @else {
        <ng-diagram-default-node-template [node]="node" />
      }
    </ng-diagram-node>
  }
</ng-diagram-canvas>
<ng-diagram-watermark />
