<angular-adapter-canvas [viewport]="viewport()">
  @for (node of nodes(); track node.id) {
    <angular-adapter-node
      class="flow__angular-adapter-node"
      [attr.data-node-id]="node.id"
      [data]="node"
      [eventTarget]="{ type: 'node', element: node }"
    >
      @if (getNodeTemplate(node.type)) {
        <ng-container *ngComponentOutlet="getNodeTemplate(node.type); inputs: { data: node }" />
      } @else {
        <span>{{ node.id }}</span>
      }
    </angular-adapter-node>
  }

  @for (edge of edges(); track edge.id) {
    <angular-adapter-edge
      class="flow__angular-adapter-edge"
      [data]="edge"
      [eventTarget]="{ type: 'edge', element: edge }"
    >
      @if (getEdgeTemplate(edge.type)) {
        <ng-container *ngComponentOutlet="getEdgeTemplate(edge.type); inputs: { data: edge }" />
      } @else if (edge.type === 'straight' || edge.type === 'orthogonal' || !edge.type) {
        <angular-adapter-default-edge [data]="edge" />
      }
    </angular-adapter-edge>
  }
  <angular-adapter-marker-arrow />
</angular-adapter-canvas>
